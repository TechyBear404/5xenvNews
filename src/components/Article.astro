---
import {type CollectionEntry, getEntryBySlug} from "astro:content"
import { Image } from "astro:assets"
import ArticlesList from "./ArticlesList.astro"
import { fade } from 'astro:transitions';

// import CategoryList from "./CategoryList.astro"

type Props = {
    article: CollectionEntry<"articles">
}

const {article} = Astro.props
// const author = await getEntryBySlug("authors", article.data.author)

const slideAnim = {
    old: {
        name: 'slide',
        duration: '5s',
        easing: 'linear'
    },
    new: {
        name: 'slide',
        duration: '5s',
        easing: 'linear'
    }
};

const mySlide = {
    forwards: slideAnim,
    backwards: slideAnim,
};

---

<article>
    <a href={`/article/${article.slug}`}>
        <Image
            src={article.data.image}
            alt={article.data.title}
            width={600}
            height={600 / 1.5}
            class="rounded-2xl shadow-xl mb-6 aspect-thumbnail object-cover"
            transition:name=`image-${article.slug}`
            transition:animate="fade"
        />
    </a>

    <!-- <div class="mb-4">
        <ArticlesList categories={post.data.categories} />
    </div> -->

    <a
        href={`/article/${article.slug}`}
        class="text-4xl mb-4 font-semibold inline-block"
    >
        {article.data.title}
    </a>

    <p class="text-zinc-500 text-2xl mb-9 line-clamp-2">
        {article.body}
    </p>

    <div class="flex justify-between items-center">
        <!-- {
            author ? (
                <a
                    href={`/author/${author.slug}`}
                    class="text-zinc-900 text-2xl font-bold"
                >
                    {author.data.name}
                </a>
            ) : null
        } -->

        <span class="text-zinc-700 text-xl">
            {article.data.date}
        </span>
    </div>
</article>
