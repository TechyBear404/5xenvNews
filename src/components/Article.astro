---
import { type CollectionEntry, getEntryBySlug } from 'astro:content'
import { Image } from 'astro:assets'
import ArticlesList from './ArticlesList.astro'
import { fade } from 'astro:transitions'

// import CategoryList from "./CategoryList.astro"

type Props = {
	article: CollectionEntry<'articles'>
}

const { article } = Astro.props
// const author = await getEntryBySlug("authors", article.data.author)

const slideAnim = {
	old: {
		name: 'slide',
		duration: '5s',
		easing: 'linear'
	},
	new: {
		name: 'slide',
		duration: '5s',
		easing: 'linear'
	}
}

const mySlide = {
	forwards: slideAnim,
	backwards: slideAnim
}
---

<article class="transition duration-300 ease-in-out hover:-translate-y-1 hover:scale-105">
	<a href={`/article/${article.slug}`}>
		<Image
			src={article.data.image}
			alt={article.data.title}
			width={600}
			height={600 / 1.5}
			class="aspect-thumbnail mb-6 rounded-2xl object-cover shadow-xl"
		/>
	</a>

	<!-- <div class="mb-4">
        <ArticlesList categories={article.data.categories} />
    </div> -->

	<a href={`/article/${article.slug}`} class="mb-4 inline-block text-4xl font-semibold">
		{article.data.title}
	</a>

	<p class="mb-9 line-clamp-2 text-2xl text-zinc-500">
		{article.body}
	</p>

	<div class="flex items-center justify-between">
		<!-- {
            author ? (
                <a
                    href={`/author/${author.slug}`}
                    class="text-zinc-900 text-2xl font-bold"
                >
                    {author.data.name}
                </a>
            ) : null
        } -->

		<span class="text-xl text-zinc-700">
			{article.data.date}
		</span>
	</div>
</article>
